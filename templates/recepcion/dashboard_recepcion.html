{% extends 'base_recepcion.html' %}
{% load static %}

{% block title %}Recepción{% endblock title %}

{% block content %}

    <div class="m-0 p-0">

        <div class="m-0 p-0" >
            <h1 class="text-start text-white">Recepción </h1>
        </div>

        <div class="row d-flex flex-row justify-content-center mt-3 gap-2">

            <div class="row d-flex flex-row justify-content-center mt-2 gap-2">
                <div class="col card p-0" style="border-radius: 20px; border: 2px solid #3b3f4c">
                    <div class="card-body d-flex justify-content-center align-items-center">
                        <table class="display text-center" id="tablaFunc" style="width: 100%;">
                            <thead>
                                <tr>
                                    <th>Paciente</th>
                                    <th>Profesional</th>
                                    <th>Hora</th>
                                    <th>Confirmada</th>
                                </tr>
                            </thead>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    {% block script %}

        <script>
            let table = new DataTable('#tablaFunc',{
                data: [
                    {% for cita in citas_dia %}
                        {
                            nombre: '{{ cita.paciente__user__nombre }}',
                            profesional: '{{ cita.profesional__prefijo }} {{ cita.profesional__user__nombre }} ',
                            hora: '{{ cita.hora_reserva }}',
                            confirmada: '{% if cita.confirmada %}<span class="badge" style="background-color: rgb(42, 140, 74, 0.5); border: 2px solid rgb(42, 140, 74) ">Sí</span>{% else %}<span class="badge " style="background-color: rgb(255, 0, 0, 0.6); border: 2px solid rgb(255, 0, 0)">No</span>{% endif %}',
                        },
                    {% endfor %}
                ],
                columns: [
                    { data: 'nombre' },
                    { data: 'profesional' },
                    { data: 'hora' },
                    { data: 'confirmada' },
                ],
            });
        </script>

    {% endblock script %}

{% endblock %}

