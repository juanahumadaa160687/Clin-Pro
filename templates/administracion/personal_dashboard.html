{% extends 'base_funcionarios.html' %}
{% load static %}
{% load sweetify %}
{% sweetify %}


{% block title %}Dashboard Funcionarios{% endblock %}

{% block content %}

    {% if messages %}
        {% for message in messages %}
            {% if message.tags == 'success' %}
                <div class="alert alert-success alert-dismissible fade show" role="alert" style="width: 30%;">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% elif message.tags == 'error' %}
                <div class="alert alert-danger alert-dismissible fade show" role="alert" style="width: 30%;">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% elif message.tags == 'warning' %}
                <div class="alert alert-warning alert-dismissible fade show" role="alert" style="width: 30%;">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            {% endif %}
        {% endfor %}
    {% endif %}

    <div class="m-0 p-0 d-flex justify-content-center align-items-center flex-column" style="min-height: 100vh; overflow-y: auto;">

        <div class="mb-2 p-0 w-100" >
            <h1 class="text-start text-white">Dashboard Funcionarios</h1>
        </div>

        <div class="row gap-2 w-100">

            <div class="col card mb-2 p-0" style="background-color: rgba(33, 38, 52, 0.9); border-radius: 20px; border: 2px solid #3b3f4c; width: 100%;">

                <div class="card-body p-3">
                    <h3 class="card-title text-white">Registro de Usuarios</h3>
                    <div class="d-flex justify-content-center flex-column align-items-center">
                        {% if form.non_field_errors %}
                            <div class="alert alert-danger" role="alert">
                                {{ form.non_field_errors }}
                            </div>
                        {% endif %}
                        <form method="POST" enctype="multipart/form-data" class="row g-3 text-white" name="registro" id="registro" style="width: 90%;">
                            {% csrf_token %}
                            <div class="col-4 form-group mb-1">
                                {{ form.rut.label }}
                                {{ form.rut }}
                            </div>
                            <div class="col-4 form-group mb-1">
                                {{ form.nombre.label }}
                                {{ form.nombre }}
                            </div>
                            <div class="col-4 form-group mb-1">
                                {{ form.telefono.label }}
                                {{ form.telefono }}
                            </div>
                            <div class="col-4 form-group mb-1">
                                {{ form.email.label }}
                                {{ form.email }}
                            </div>
                            <div class="col-4 form-group mb-1">
                                {{ form.password1.label }}
                                {{ form.password1 }}
                            </div>
                            <div class="col-4 form-group mb-1" >
                                {{ form.password2.label }}
                                {{ form.password2 }}
                            </div>
                            <div class="col-4 form-group mb-1">
                                {{ form.rol.label }}
                                {{ form.rol }}
                            </div>
                            <div class="w-100 d-flex justify-content-center flex-column align-items-end mt-1">
                                <button type="submit" class="btn" name="registro" id="registro" style="background-color: #28be8a; width: 20%; color: white">Registrar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="row gap-2 w-100 h-100 mb-3">

            <div class="col card" style="background-color: rgba(33, 38, 52, 0.9); border-radius: 20px; border: 2px solid #3b3f4c">

                <div class="card-body p-4 m-0">
                    <h3 class="card-title text-white">Registro de Personal Salud</h3>
                    <div class="mt-4 d-flex justify-content-center flex-column align-items-center">
                        {% if per_salud_form.non_field_errors %}
                            <div class="alert alert-danger" role="alert">
                                {{ per_salud_form.non_field_errors }}
                            </div>
                        {% endif %}
                        <form method="POST" enctype="multipart/form-data" class="row g-3 text-white" style="width: 90%;">
                            {% csrf_token %}
                            <div class="col-3 form-group mb-2">
                                {{ per_salud_form.prefijo.label }}
                                {{ per_salud_form.prefijo }}
                            </div>
                            <div class="col-9 form-group mb-2">
                                {{ per_salud_form.titulo.label }}
                                {{ per_salud_form.titulo }}
                            </div>
                            <div class="col-12 form-group mb-2">
                                {{ per_salud_form.especialidad.label }}
                                {{ per_salud_form.especialidad }}
                            </div>
                            <div class="col-12 form-group mb-2">
                                {{ per_salud_form.universidad.label }}
                                {{ per_salud_form.universidad }}
                            </div>
                            <div class="col-12 form-group mb-2">
                                {{ per_salud_form.user.label }}
                                {{ per_salud_form.user }}
                            </div>
                            <div class="d-flex justify-content-center flex-column align-items-center w-100 mb-2">
                                <button type="submit" class="btn" name="personal_salud" id="personal_salud" style="background-color: #28be8a; width: 60%; color: white">Registrar</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>

            <div class="col">

                <div class="row gap-3 d-flex justify-content-center flex-column align-items-center flex-column">

                    <div class="col card" style="background-color: rgba(33, 38, 52, 0.9); border-radius: 20px; border: 2px solid #3b3f4c">
                        <div class="card-body p-4 m-0">
                            <h3 class="card-title text-white">Registro de Secretaria</h3>
                            <div class="mt-4 d-flex justify-content-center flex-column align-items-center">
                                {% if secre_form.non_field_errors %}
                                    <div class="alert alert-danger" role="alert">
                                        {{ secre_form.non_field_errors }}
                                    </div>
                                {% endif %}
                                <form method="POST" enctype="multipart/form-data" class="text-white" style="width: 90%;">
                                    {% csrf_token %}
                                    <div class="col form-group mb-4">
                                        {{ secre_form.secretaria.label }}
                                        {{ secre_form.secretaria }}
                                    </div>
                                    <div class="d-flex justify-content-center flex-column align-items-center w-100 mt-3">
                                        <button type="submit" class="btn" name="secretaria" id="secretaria" style="background-color: #28be8a; width: 60%; color: white">Registrar</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>

                    <div class="col card" style="background-color: rgba(33, 38, 52, 0.9); border-radius: 20px; border: 2px solid #3b3f4c">
                        <div class="col card-body p-4 mt-4">
                            <h3 class="card-title text-white">Registro de Administrador</h3>
                            <div class="mt-4 d-flex justify-content-center flex-column align-items-center">
                                {% if admin_form.non_field_errors %}
                                    <div class="alert alert-danger" role="alert">
                                        {{ admin_form.non_field_errors }}
                                    </div>
                                {% endif %}
                                <form method="POST" enctype="multipart/form-data" class="text-white" style="width: 90%;">
                                    {% csrf_token %}
                                    <div class="col form-group mb-4">
                                        {{ admin_form.administrador.label }}
                                        {{ admin_form.administrador }}
                                    </div>
                                    <div class="d-flex justify-content-center flex-column align-items-center w-100 mt-3">
                                        <button type="submit" class="btn" name="administrador" id="administrador" style="background-color: #28be8a; width: 60%; color: white">Registrar</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


{% endblock %}